# Как запустить Доку локально

Для работы с платформой вам потребуется [Node.js](https://nodejs.org/en/) и npm. Мы используем стабильную LTS-версию Node.js и версию npm, которая идёт в комплекте. Если у вас установлена другая версия Node.js, вы можете использовать [nvm](https://github.com/nvm-sh/nvm) для переключения на нужную.

## Минимальный запуск

Чтобы запустить Доку локально, нужно:

1. Скачать репозиторий.
1. Установить зависимости командой `npm i`.
1. Сделать копию файла `.env.example` и назвать его `.env`. Задать в нём нужные переменные окружения.
1. Запустить локальный веб-сервер командой `npm start`.

## Запуск с реальным контентом

1. Скачать репозитории с контентом и платформой в одну папку.
1. Установить зависимости командой `npm i`.
1. Сделать копию файла `.env.example` и назвать его `.env`. Задать в нём нужные переменные окружения:
  - `BASE_URL` - базовый адрес для сайта;
  - `SECTIONS` - список разделов сайта;
  - `PATH_TO_CONTENT` - путь до репозитория с контентом;
  - `CONTENT_REP_FOLDERS` - папки с содержимым разделов и служебной информацией для сборки;
  - `DOKA_ORG` - путь до организации на GtiHub;
  - `PLATFORM_REP_GITHUB_URL` - путь до репозитория с платформой на GtiHub;
  - `CONTENT_REP_GITHUB_URL` - путь до репозитория с контентом на GtiHub;
  - `CONTENT_REP_GITHUB` - ссылка до репозитория с контентом на GtiHub для работы с Git;
  - `SERVER_PATH` - абсолютный путь до папки на сервере с текущей сборкой;
  - `GITHUB_TOKEN` - токен для работы с GraphQL GitHub (персональный токен можно сгенерировать, как описано в [инструкции](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token)).
2. Запустить локальный веб-сервер командой `npm start`.

Если оставить поле `GITHUB_TOKEN` пустым, на страницах участников не будет отображена информация об активности на GitHub в репозитории с контентом.
